version = "0.4"
description = "Migrate between different versions of OCaml AST"
archive(byte) = "migrate_parsetree.cma"
archive(native) = "migrate_parsetree.cmxa"
plugin(byte) = "migrate_parsetree.cma"
plugin(native) = "migrate_parsetree.cmxs"
requires = "compiler-libs.common"

package "driver" (
  description = "An API to register PPX rewriters too (replacing Ast_mapper.register)"
  version = "0.1"
  archive(byte) = "migrate_driver.cmo"
  archive(native) = "migrate_driver.cmx"
  requires = "ocaml-migrate-parsetree"
)

package "driver-main" (
  description = "An entry point for the driver. Must be linked last"
  version = "0.1"
  archive(byte) = "migrate_driver_main.cmo"
  archive(native) = "migrate_driver_main.cmx"
  requires = "ocaml-migrate-parsetree.driver"
)
